/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.themes.add("default",function(){function a(a,b){var c,d;d=a.config.sharedSpaces,d=d&&d[b],d=d&&CKEDITOR.document.getById(d);if(d){var e='<span class="cke_shared " dir="'+a.lang.dir+'"'+">"+'<span class="'+a.skinClass+" "+a.id+" cke_editor_"+a.name+'">'+'<span class="'+CKEDITOR.env.cssClass+'">'+'<span class="cke_wrapper cke_'+a.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+b+'">'+"</div></span></span></span></span></span>",f=d.append(CKEDITOR.dom.element.createFromHtml(e,d.getDocument()));d.getCustomData("cke_hasshared")?f.hide():d.setCustomData("cke_hasshared",1),c=f.getChild([0,0,0,0]),!a.sharedSpaces&&(a.sharedSpaces={}),a.sharedSpaces[b]=c,a.on("focus",function(){for(var a=0,b,c=d.getChildren();b=c.getItem(a);a++)b.type==CKEDITOR.NODE_ELEMENT&&!b.equals(f)&&b.hasClass("cke_shared")&&b.hide();f.show()}),a.on("destroy",function(){f.remove()})}return c}return{build:function(b,c){var d=b.name,e=b.element,f=b.elementMode;if(!e||f==CKEDITOR.ELEMENT_MODE_NONE)return;f==CKEDITOR.ELEMENT_MODE_REPLACE&&e.hide();var g=b.fire("themeSpace",{space:"top",html:""}).html,h=b.fire("themeSpace",{space:"contents",html:""}).html,i=b.fireOnce("themeSpace",{space:"bottom",html:""}).html,j=h&&b.config.height,k=b.config.tabIndex||b.element.getAttribute("tabindex")||0;h?isNaN(j)||(j+="px"):j="auto";var l="",m=b.config.width;m&&(isNaN(m)||(m+="px"),l+="width: "+m+";");var n=g&&a(b,"top"),o=a(b,"bottom");n&&(n.setHtml(g),g=""),o&&(o.setHtml(i),i="");var p=CKEDITOR.dom.element.createFromHtml(['<span id="cke_',d,'" class="',b.skinClass," ",b.id," cke_editor_",d,'" dir="',b.lang.dir,'" title="',CKEDITOR.env.gecko?" ":"",'" lang="',b.langCode,'"'+(CKEDITOR.env.webkit?' tabindex="'+k+'"':"")+' role="application"'+' aria-labelledby="cke_',d,'_arialbl"'+(l?' style="'+l+'"':"")+">"+'<span id="cke_',d,'_arialbl" class="cke_voice_label">'+b.lang.editor+"</span>"+'<span class="',CKEDITOR.env.cssClass,'" role="presentation"><span class="cke_wrapper cke_',b.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',g?"":' style="display:none"',' role="presentation"><td id="cke_top_',d,'" class="cke_top" role="presentation">',g,"</td></tr><tr",h?"":' style="display:none"',' role="presentation"><td id="cke_contents_',d,'" class="cke_contents" style="height:',j,'" role="presentation">',h,"</td></tr><tr",i?"":' style="display:none"',' role="presentation"><td id="cke_bottom_',d,'" class="cke_bottom" role="presentation">',i,"</td></tr></tbody></table><style>.",b.skinClass,"{visibility:hidden;}</style></span></span></span>"].join(""));p.getChild([1,0,0,0,0]).unselectable(),p.getChild([1,0,0,0,2]).unselectable(),f==CKEDITOR.ELEMENT_MODE_REPLACE?p.insertAfter(e):e.append(p),b.container=p,p.disableContextMenu(),b.fireOnce("themeLoaded"),b.fireOnce("uiReady")},buildDialog:function(a){var b=CKEDITOR.tools.getNextNumber(),c=CKEDITOR.dom.element.createFromHtml(['<div class="',a.id,"_dialog cke_editor_",a.name.replace(".","\\."),"_dialog cke_skin_",a.skinName,'" dir="',a.lang.dir,'" lang="',a.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog'," "+CKEDITOR.env.cssClass," cke_",a.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+a.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+"<tr>"+'<td id="%contents#" class="%contents" role="presentation"></td>'+"</tr>"+"<tr>"+'<td id="%footer#" class="%footer" role="presentation"></td>'+"</tr>"+"</table>"+"</div>"+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+"</td></tr>"+"</table>",CKEDITOR.env.ie?"":"<style>.cke_dialog{visibility:hidden;}</style>","</div>"].join("").replace(/#/g,"_"+b).replace(/%/g,"cke_dialog_")),d=c.getChild([0,0,0,0,0]),e=d.getChild(0),f=d.getChild(1);return e.unselectable(),f.unselectable(),{element:c,parts:{dialog:c.getChild(0),title:e,close:f,tabs:d.getChild(2),contents:d.getChild([3,0,0,0]),footer:d.getChild([3,0,1,0])}}},destroy:function(a){var b=a.container,c=a.element;b&&(b.clearCustomData(),b.remove()),c&&(c.clearCustomData(),a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&c.show(),delete a.element)}}}()),CKEDITOR.editor.prototype.getThemeSpace=function(a){var b="cke_"+a,c=this._[b]||(this._[b]=CKEDITOR.document.getById(b+"_"+this.name));return c},CKEDITOR.editor.prototype.resize=function(a,b,c,d){var e=this.container,f=CKEDITOR.document.getById("cke_contents_"+this.name),g=d?e.getChild(1):e;CKEDITOR.env.webkit&&g.setStyle("display","none"),g.setSize("width",a,!0),CKEDITOR.env.webkit&&(g.$.offsetWidth,g.setStyle("display",""));var h=c?0:(g.$.offsetHeight||0)-(f.$.clientHeight||0);f.setStyle("height",Math.max(b-h,0)+"px"),this.fire("resize")},CKEDITOR.editor.prototype.getResizable=function(){return this.container}